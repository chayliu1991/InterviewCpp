

# 正则表达式

一般使用正则表达式主要是实现下面三个需求：

- 检查一个串是否包含某种形式的子串
- 将匹配的子串替换
- 从某个串中取出符合条件的子串

## 特殊字符

特殊字符是正则表达式里有特殊含义的字符，也是正则表达式的核心匹配语法。

![](./img/special_character.png)

## 限定符

![](./img/qualifier.png)

## std::regex 及其相关

C++11 提供的正则表达式库操作 `std::string` 对象，模式 `std::regex` (本质是 `std::basic_regex`)进行初始化，通过 `std::regex_match` 进行匹配，从而产生 `std::smatch` （本质是 `std::match_results` 对象）。

```
	std::string fnames [] = { "foo.txt", "bar.txt", "test", "a0.txt", "AAA.txt" };
	std::regex txt_reg("[a-z]+\\.txt");
	for (const auto & fname : fnames)
	{
		std::cout << fname << ": " << std::regex_match(fname, txt_reg) << std::endl;
	}

	std::cout << "------------------------------------------------" << std::endl;

	std::regex base_regex{ "([a-z]+)\\.txt" };
	std::smatch base_match;
	for (const auto & fname : fnames)
	{
		if (std::regex_match(fname, base_match, base_regex))
		{
			//@ std::smatch 的第一个元素匹配整个字符串
			//@ std::smatch 的第二个元素匹配了第一个括号表达式
			if (base_match.size() == 2)
			{
				std::string base = base_match[1].str();
				std::cout << base_match[0].str() << std::endl;
				std::cout << base << std::endl;
			}
		}
	}
```



















